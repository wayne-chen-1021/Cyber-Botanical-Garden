# Cyberbotanic - Spring Boot API

é€™æ˜¯è³½åšæ¤ç‰©åœ’ï¼ˆCyberbotanicï¼‰å¾Œç«¯å°ˆæ¡ˆï¼Œä½¿ç”¨ Spring Boot é–‹ç™¼ï¼Œæä¾› RESTful API æ”¯æ´å‰ç«¯ Flutter App é€²è¡Œæ¤ç‰©é¤Šæˆã€ç‹€æ…‹é¡¯ç¤ºèˆ‡è³‡æ–™å„²å­˜ç­‰åŠŸèƒ½ã€‚

---

## ğŸ“¦ å°ˆæ¡ˆçµæ§‹

```
src/main/java/com/cyberbotanic/
â”œâ”€â”€ controller/      # REST API æ§åˆ¶å™¨ (AppController)
â”œâ”€â”€ dto/             # è«‹æ±‚åƒæ•¸ç”¨çš„ DTO é¡åˆ¥ (UserSave, PlantSave)
â”œâ”€â”€ model/           # JPA Entity é¡åˆ¥ (User, Plant)
â”œâ”€â”€ repository/      # è³‡æ–™å­˜å–å±¤ (UserRepository, PlantRepository)
â”œâ”€â”€ data/            # éœæ…‹ ASCII åœ–è³‡æ–™ (PlantVisuals)
â””â”€â”€ service/         # å¯æ“´å……çš„æ¥­å‹™é‚è¼¯å±¤ï¼ˆç›®å‰å°šæœªä½¿ç”¨ï¼‰
```

---

## ğŸŒ± API è¦æ ¼

### ğŸ“Œ ä½¿ç”¨è€…è¨»å†Š

```
POST /api/app/users/register
```

* è«‹æ±‚ï¼š`{ "name": "ä½¿ç”¨è€…åç¨±" }`
* å›æ‡‰ï¼šæˆåŠŸå»ºç«‹ä½¿ç”¨è€… ID / éŒ¯èª¤è¨Šæ¯

### ğŸ“Œ ä½¿ç”¨è€…ç™»å…¥

```
POST /api/app/users/login
```

* è«‹æ±‚ï¼š`{ "name": "ä½¿ç”¨è€…åç¨±" }`
* å›æ‡‰ï¼š`userId` / æ‰¾ä¸åˆ°ä½¿ç”¨è€…éŒ¯èª¤

### ğŸ“Œ ç¨®æ¤ç‰©

```
POST /api/app/plants
```

* è«‹æ±‚ï¼š

```json
{
  "userId": 1,
  "type": "bud",
  "nickname": "å°ä»™äººæŒ",    // å¯é¸
  "pot": "default"           // å¯é¸ï¼Œé è¨­ç‚º "default"
}
```

* å›æ‡‰ï¼š"æ¤ç‰©å·²æˆåŠŸç¨®ä¸‹ï¼"

### ğŸ“Œ é¡¯ç¤ºæ¤ç‰© ASCII åœ–ï¼ˆå«ç›†æ ½ï¼‰

```
GET /api/app/plant-image/{plantId}
```

* å›å‚³ï¼šå°æ‡‰æ¤ç‰©ç¨®é¡èˆ‡æˆé•·éšæ®µçš„ ASCII åœ–

---

## ğŸ§ª æ¸¬è©¦æ–¹å¼ï¼ˆé–‹ç™¼éšæ®µï¼‰

ä½¿ç”¨ [httpie](https://httpie.io/) æ¸¬è©¦ API ç¯„ä¾‹å¦‚ä¸‹ï¼š

### å»ºç«‹ä½¿ç”¨è€…ï¼š

```bash
http POST http://localhost:8080/api/app/users/register name="æ¸¬è©¦ç”¨æˆ¶"
```

### ç™»å…¥å–å¾— IDï¼š

```bash
http POST http://localhost:8080/api/app/users/login name="æ¸¬è©¦ç”¨æˆ¶"
```

### ç¨®æ¤ç‰©ï¼š

```bash
http POST http://localhost:8080/api/app/plants userId:=1 type="bud"
```

### é¡¯ç¤ºæ¤ç‰©åœ–æ¡ˆï¼š

```bash
http GET http://localhost:8080/api/app/plant-image/2
```

---

## ğŸš€ éƒ¨ç½²ç‹€æ…‹

* Azure Container Appï¼šéƒ¨ç½²æˆåŠŸ âœ…
* MySQLï¼šä½¿ç”¨ Azure Flexible MySQL è³‡æ–™åº« âœ…
* Dockerï¼šå¯é€é Dockerfile æ‰“åŒ…ä¸¦éƒ¨ç½²

---

## ğŸ§¾ æ³¨æ„äº‹é …

* æ¸¬è©¦äººå“¡å¸³è™Ÿï¼ˆ"æ¸¬è©¦ç”¨æˆ¶"ï¼‰é è¨­ç”± Flutter ç«¯æ§åˆ¶ï¼Œä¸ç”±å¾Œç«¯è™•ç†ã€‚
* å¯è—‰ç”± POST /api/app/users/login` ç™»å…¥å–å¾— IDï¼Œä¸¦ä½¿ç”¨è©² ID é€²è¡Œå¾ŒçºŒAPIè«‹æ±‚ã€‚
* ç¨®æ¤ç‰©æ™‚ï¼Œ`type` åƒæ•¸åªå¯é¸æ“‡ "bud"ã€‚

---

## ğŸ§‘â€ğŸ’» é–‹ç™¼è€…

* å¾Œç«¯é–‹ç™¼ï¼šSpring Boot
* å‰ç«¯é–‹ç™¼ï¼šFlutter
* æ‡‰ç”¨ç¨‹å¼URLï¼šhttps://cyberbotanic.politehill-c76aad8c.japaneast.azurecontainerapps.io